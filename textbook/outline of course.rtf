{\rtf1\ansi\ansicpg1252\cocoartf2513
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fswiss\fcharset0 Helvetica;\f1\fnil\fcharset0 LucidaGrande;\f2\fnil\fcharset0 HelveticaNeue;
}
{\colortbl;\red255\green255\blue255;\red13\green60\blue144;\red255\green255\blue255;}
{\*\expandedcolortbl;;\cssrgb\c3922\c31765\c63137;\cssrgb\c100000\c100000\c100000;}
{\*\listtable{\list\listtemplateid1\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{square\}}{\leveltext\leveltemplateid1\'01\uc0\u9642 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid1}
{\list\listtemplateid2\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{square\}}{\leveltext\leveltemplateid101\'01\uc0\u9642 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{hyphen\}}{\leveltext\leveltemplateid102\'01\uc0\u8259 ;}{\levelnumbers;}\fi-360\li1440\lin1440 }{\listname ;}\listid2}
{\list\listtemplateid3\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{square\}}{\leveltext\leveltemplateid201\'01\uc0\u9642 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{hyphen\}}{\leveltext\leveltemplateid202\'01\uc0\u8259 ;}{\levelnumbers;}\fi-360\li1440\lin1440 }{\listname ;}\listid3}
{\list\listtemplateid4\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{square\}}{\leveltext\leveltemplateid301\'01\uc0\u9642 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{hyphen\}}{\leveltext\leveltemplateid302\'01\uc0\u8259 ;}{\levelnumbers;}\fi-360\li1440\lin1440 }{\listname ;}\listid4}
{\list\listtemplateid5\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{square\}}{\leveltext\leveltemplateid401\'01\uc0\u9642 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{circle\}}{\leveltext\leveltemplateid402\'01\uc0\u9702 ;}{\levelnumbers;}\fi-360\li1440\lin1440 }{\listname ;}\listid5}
{\list\listtemplateid6\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{square\}}{\leveltext\leveltemplateid501\'01\uc0\u9642 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid6}
{\list\listtemplateid7\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{square\}}{\leveltext\leveltemplateid601\'01\uc0\u9642 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid7}
{\list\listtemplateid8\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{square\}}{\leveltext\leveltemplateid701\'01\uc0\u9642 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid8}
{\list\listtemplateid9\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{square\}}{\leveltext\leveltemplateid801\'01\uc0\u9642 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid9}}
{\*\listoverridetable{\listoverride\listid1\listoverridecount0\ls1}{\listoverride\listid2\listoverridecount0\ls2}{\listoverride\listid3\listoverridecount0\ls3}{\listoverride\listid4\listoverridecount0\ls4}{\listoverride\listid5\listoverridecount0\ls5}{\listoverride\listid6\listoverridecount0\ls6}{\listoverride\listid7\listoverridecount0\ls7}{\listoverride\listid8\listoverridecount0\ls8}{\listoverride\listid9\listoverridecount0\ls9}}
\margl1440\margr1440\vieww18360\viewh20620\viewkind0
\deftab720
\pard\pardeftab720\partightenfactor0

\f0\fs24 \cf0 \expnd0\expndtw0\kerning0
Title:  Vision-based Estimation and Control of Multirotor Aircraft\
\
Purpose:  Learn how to implement vision based estimation and control algorithms for multirotors with implementation in the Holodeck/ROSflight simulator.  \
\
Benefit to the Magicc Lab:  Everyone will learn the Holodeck/ROSflight framework.  Bring everyone up to speed on basic concepts in modeling (SO(3)/SE(3)), quadrotor control, quadrotor estimation, visual odometry, homography methods, essential matrix methods.  The course should benefit many current research projects in the lab.  At the end of the class, the lab will have an end-to-end working simulation environment, similar to the uavbook, that enables research projects to move forward from a stable / well-understood code base.  Course covers end-to-end system and so students won\'92t get lost in the weeds in their research projects, but will see the big picture.\
\
Prerequisites:  Flight dynamics (ECE 674/ME 634) and strong Python/C++ programming skills.  Robotic vision (ECE 631) is a plus/preferred, but not absolutely necessary.\
\
Text:  We will use research papers, web searches, and instructor notes\
\
Course structure during Spring term:\
\pard\tx220\tx720\pardeftab720\li720\fi-720\partightenfactor0
\ls1\ilvl0\cf0 \kerning1\expnd0\expndtw0 {\listtext	
\f1 \uc0\u9642 
\f0 	}\expnd0\expndtw0\kerning0
Monday - Meet for 2 hours to discuss technical topics.\
\ls1\ilvl0\kerning1\expnd0\expndtw0 {\listtext	
\f1 \uc0\u9642 
\f0 	}\expnd0\expndtw0\kerning0
Tuesday - Meet for 2 hours to discuss technical topics.\
\ls1\ilvl0\kerning1\expnd0\expndtw0 {\listtext	
\f1 \uc0\u9642 
\f0 	}\expnd0\expndtw0\kerning0
Wednesday - Meet for 1 hour to discuss implementation strategies and code structure.\
\ls1\ilvl0\kerning1\expnd0\expndtw0 {\listtext	
\f1 \uc0\u9642 
\f0 	}\expnd0\expndtw0\kerning0
Friday - Meet for 1 hour.  Each student will present their simulation results, we will then merge code and everyone will have access to the best the class has produced, moving forward to the next week.\
\ls1\ilvl0\kerning1\expnd0\expndtw0 {\listtext	
\f1 \uc0\u9642 
\f0 	}\expnd0\expndtw0\kerning0
We will spend one week per topic listed below.\
\ls1\ilvl0\kerning1\expnd0\expndtw0 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\partightenfactor0
\ls1\ilvl0\cf0 \expnd0\expndtw0\kerning0
Grading:  \
\pard\tx220\tx720\pardeftab720\li720\fi-720\partightenfactor0
\ls1\ilvl0\cf0 \kerning1\expnd0\expndtw0 {\listtext	
\f1 \uc0\u9642 
\f0 	}\expnd0\expndtw0\kerning0
50% participation / help with lectures\
\ls1\ilvl0\kerning1\expnd0\expndtw0 {\listtext	
\f1 \uc0\u9642 
\f0 	}\expnd0\expndtw0\kerning0
50% code performance, as presented to the class each week.\
\pard\pardeftab720\partightenfactor0
\cf0 \
Topic 1:  Quadrotor dynamics and flight simulator\
\pard\tx220\tx720\pardeftab720\li720\fi-720\partightenfactor0
\ls2\ilvl0\cf0 \kerning1\expnd0\expndtw0 {\listtext	
\f1 \uc0\u9642 
\f0 	}\expnd0\expndtw0\kerning0
Sensor models:  IMU, altimeter, camera\
\ls2\ilvl0\kerning1\expnd0\expndtw0 {\listtext	
\f1 \uc0\u9642 
\f0 	}\expnd0\expndtw0\kerning0
SO(3) / SE(3) stuff\
\ls2\ilvl0\kerning1\expnd0\expndtw0 {\listtext	
\f1 \uc0\u9642 
\f0 	}\expnd0\expndtw0\kerning0
Holodeck with ROSflight simulator\
\ls2\ilvl0\kerning1\expnd0\expndtw0 {\listtext	
\f1 \uc0\u9642 
\f0 	}\expnd0\expndtw0\kerning0
OpenCV\
\ls2\ilvl0\kerning1\expnd0\expndtw0 {\listtext	
\f1 \uc0\u9642 
\f0 	}[Course Material]  \
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\partightenfactor0
\ls2\ilvl1\cf0 {\listtext	\uc0\u8259 	}Quadrotorbook, Chapter 2, Preliminaries\
{\listtext	\uc0\u8259 	}Quadrotorbook, Chapter 3, Equations of Motion for Multirotors\
{\listtext	\uc0\u8259 	}Joan Sola, Jeremie Deray, Dinesh Atchuthan, A Micro Lie theory for state estimation in robotics:  https://arxiv.org/abs/1812.01537\
{\listtext	\uc0\u8259 	}\expnd0\expndtw0\kerning0
\
\pard\tx220\tx720\pardeftab720\li720\fi-720\partightenfactor0
\ls2\ilvl0\cf0 \kerning1\expnd0\expndtw0 {\listtext	
\f1 \uc0\u9642 
\f0 	}\expnd0\expndtw0\kerning0
[Lab Assignment] \
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\partightenfactor0
\ls2\ilvl1\cf0 \kerning1\expnd0\expndtw0 {\listtext	\uc0\u8259 	}I\expnd0\expndtw0\kerning0
nstall Holodeck/ROS flight simulator.  \
\pard\tx940\tx1440\tx2160\pardeftab720\li1440\fi-1440\partightenfactor0
\ls2\ilvl1\cf0 \kerning1\expnd0\expndtw0 {\listtext	\uc0\u8259 	}\expnd0\expndtw0\kerning0
Install OpenCV.  \
\ls2\ilvl1\kerning1\expnd0\expndtw0 {\listtext	\uc0\u8259 	}Simple altitude hold, roll hold, pitch hold, yaw following sinusoid. \expnd0\expndtw0\kerning0
\
\ls2\ilvl1\kerning1\expnd0\expndtw0 {\listtext	\uc0\u8259 	}\expnd0\expndtw0\kerning0
Fly quadrotor with keyboard.  \
\ls2\ilvl1\kerning1\expnd0\expndtw0 {\listtext	\uc0\u8259 	}Plot good features to track on image\expnd0\expndtw0\kerning0
\
\pard\pardeftab720\partightenfactor0
\cf0 \
Topic 2:  Quadrotor control\
\pard\tx220\tx720\pardeftab720\li720\fi-720\partightenfactor0
\ls3\ilvl0\cf0 \kerning1\expnd0\expndtw0 {\listtext	
\f1 \uc0\u9642 
\f0 	}\expnd0\expndtw0\kerning0
Attitude control (SO(3)) -> commanded attitude\
\ls3\ilvl0\kerning1\expnd0\expndtw0 {\listtext	
\f1 \uc0\u9642 
\f0 	}\expnd0\expndtw0\kerning0
Velocity yaw/rate control -> command velocity vector and yaw rate\
\ls3\ilvl0\kerning1\expnd0\expndtw0 {\listtext	
\f1 \uc0\u9642 
\f0 	}\expnd0\expndtw0\kerning0
Path following -> given a waypoint path and world view position\
\pard\tx220\tx720\tx1440\pardeftab720\li720\fi-720\partightenfactor0
\ls3\ilvl0\cf0 \kerning1\expnd0\expndtw0 {\listtext	
\f1 \uc0\u9642 
\f0 	}[Course Material]\
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\partightenfactor0
\ls3\ilvl1\cf0 {\listtext	\uc0\u8259 	}Quadrotorbook, Chapter 4, Attitude control\
{\listtext	\uc0\u8259 	}Quadrotorbook, Chapter 5, Trajectory control\
{\listtext	\uc0\u8259 	}\expnd0\expndtw0\kerning0
\
\pard\tx220\tx720\pardeftab720\li720\fi-720\partightenfactor0
\ls3\ilvl0\cf0 \kerning1\expnd0\expndtw0 {\listtext	
\f1 \uc0\u9642 
\f0 	}\expnd0\expndtw0\kerning0
[Lab Assignment]  Implement attitude control.  Implement velocity / yaw rate controller.  Follow a waypoint path, all using true states.\
\pard\pardeftab720\partightenfactor0
\cf0 \
Topic 3:  Trajectory planning\
\pard\tx220\tx720\pardeftab720\li720\fi-720\partightenfactor0
\ls4\ilvl0\cf0 \kerning1\expnd0\expndtw0 {\listtext	
\f1 \uc0\u9642 
\f0 	}\expnd0\expndtw0\kerning0
Differential flatness\
\ls4\ilvl0\kerning1\expnd0\expndtw0 {\listtext	
\f1 \uc0\u9642 
\f0 	}\expnd0\expndtw0\kerning0
Minimum snap trajectories\
\ls4\ilvl0\kerning1\expnd0\expndtw0 {\listtext	
\f1 \uc0\u9642 
\f0 	}\expnd0\expndtw0\kerning0
Voxel maps and planning in voxel maps\
\ls4\ilvl0\kerning1\expnd0\expndtw0 {\listtext	
\f1 \uc0\u9642 
\f0 	}\expnd0\expndtw0\kerning0
Trajectory tracking -> tracking a time-based trajectory\
\ls4\ilvl0\kerning1\expnd0\expndtw0 {\listtext	
\f1 \uc0\u9642 
\f0 	}[Course Material]\
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\partightenfactor0
\ls4\ilvl1\cf0 {\listtext	\uc0\u8259 	}\
{\listtext	\uc0\u8259 	}Python library on differential flatness:  
\fs26 \cf2 \cb3 \expnd0\expndtw0\kerning0
\ul \ulc2 https://python-control.readthedocs.io/en/0.8.3/flatsys.html
\fs24 \cf0 \cb1 \ulnone \
\pard\tx220\tx720\pardeftab720\li720\fi-720\partightenfactor0
\ls4\ilvl0\cf0 \kerning1\expnd0\expndtw0 {\listtext	
\f1 \uc0\u9642 
\f0 	}\expnd0\expndtw0\kerning0
[Lab Assignment]  Given a start and stop location, plan a minimum snap trajectory from start to end.  Given a voxel representation of world, plan minimum snap trajectory through world while avoiding collisions.\
\pard\pardeftab720\partightenfactor0
\cf0 \
Topic 4:  Optic Flow\
\pard\tx220\tx720\pardeftab720\li720\fi-720\partightenfactor0
\ls5\ilvl0\cf0 \kerning1\expnd0\expndtw0 {\listtext	
\f1 \uc0\u9642 
\f0 	}\expnd0\expndtw0\kerning0
Computing optic flow.\
\ls5\ilvl0\kerning1\expnd0\expndtw0 {\listtext	
\f1 \uc0\u9642 
\f0 	}\expnd0\expndtw0\kerning0
IMU enhanced optic flow\
\ls5\ilvl0\kerning1\expnd0\expndtw0 {\listtext	
\f1 \uc0\u9642 
\f0 	}\expnd0\expndtw0\kerning0
Optic flow based control algorithms\
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\partightenfactor0
\ls5\ilvl1\cf0 \kerning1\expnd0\expndtw0 {\listtext	
\f1 \uc0\u9702 
\f0 	}\expnd0\expndtw0\kerning0
canyon following\
\ls5\ilvl1\kerning1\expnd0\expndtw0 {\listtext	
\f1 \uc0\u9702 
\f0 	}\expnd0\expndtw0\kerning0
time to impact\
\pard\tx220\tx720\pardeftab720\li720\fi-720\partightenfactor0
\ls5\ilvl0\cf0 \kerning1\expnd0\expndtw0 {\listtext	
\f1 \uc0\u9642 
\f0 	}\expnd0\expndtw0\kerning0
[Lab Assignment]  Fly down urban canyon using optic flow.  Collision avoidance using optic flow.  Stop at deadends using optic flow.\
\pard\pardeftab720\partightenfactor0
\cf0 \
Topic 5:  Homography-based methods\
\pard\tx220\tx720\pardeftab720\li720\fi-720\partightenfactor0
\ls6\ilvl0\cf0 \kerning1\expnd0\expndtw0 {\listtext	
\f1 \uc0\u9642 
\f0 	}\expnd0\expndtw0\kerning0
Homography based inertial-visual odometery\
\ls6\ilvl0\kerning1\expnd0\expndtw0 {\listtext	
\f1 \uc0\u9642 
\f0 	}\expnd0\expndtw0\kerning0
Homography based scene reconstruction (planes)\
\ls6\ilvl0\kerning1\expnd0\expndtw0 {\listtext	
\f1 \uc0\u9642 
\f0 	}\expnd0\expndtw0\kerning0
Homography based motion detection and tracking.  (Visual MTT)\
\ls6\ilvl0\kerning1\expnd0\expndtw0 {\listtext	
\f1 \uc0\u9642 
\f0 	}\expnd0\expndtw0\kerning0
[Lab Assignment]  Implement visual odometery using homographys.  Reconstruct major planes in scene using homographys.  Plan and follow trajectories through scene using visually constructed map.\
\pard\pardeftab720\partightenfactor0
\cf0 \
Topic 6:  Essential matrix methods\
\pard\tx220\tx720\pardeftab720\li720\fi-720\partightenfactor0
\ls7\ilvl0\cf0 \kerning1\expnd0\expndtw0 {\listtext	
\f1 \uc0\u9642 
\f0 	}\expnd0\expndtw0\kerning0
Essential matrix based inertial-visual odometry\
\ls7\ilvl0\kerning1\expnd0\expndtw0 {\listtext	
\f1 \uc0\u9642 
\f0 	}\expnd0\expndtw0\kerning0
Essential matrix based scene reconstruction (voxel map)\
\ls7\ilvl0\kerning1\expnd0\expndtw0 {\listtext	
\f1 \uc0\u9642 
\f0 	}\expnd0\expndtw0\kerning0
Essential matrix based motion detection and tracking (Enhanced Visual MTT)\
\ls7\ilvl0\kerning1\expnd0\expndtw0 {\listtext	
\f1 \uc0\u9642 
\f0 	}\expnd0\expndtw0\kerning0
[Lab Assignment]  Implement visual odometer using the essential matrix.  Generate point clouds and reconstruct scene using voxel grid.  Plan and follow trajectories through scene using visually constructed map.\
\pard\tx720\pardeftab720\partightenfactor0
\cf0 \
Topic 7:  Following target.\
\pard\tx220\tx720\pardeftab720\li720\fi-720\partightenfactor0
\ls8\ilvl0\cf0 \kerning1\expnd0\expndtw0 {\listtext	
\f1 \uc0\u9642 
\f0 	}Use visual MTT to track, and then follow.  \
{\listtext	
\f1 \uc0\u9642 
\f0 	}Explain R-RANSAC and how it works.  \
\pard\pardeftab720\partightenfactor0
\cf0 \expnd0\expndtw0\kerning0
\
Topic 8:  State estimation\
\pard\tx220\tx720\pardeftab720\li720\fi-720\partightenfactor0
\ls9\ilvl0\cf0 \kerning1\expnd0\expndtw0 {\listtext	
\f1 \uc0\u9642 
\f0 	}\expnd0\expndtw0\kerning0
Attitude estimation with bias (Mahony\'92s complementary filter)\
\ls9\ilvl0\kerning1\expnd0\expndtw0 {\listtext	
\f1 \uc0\u9642 
\f0 	}\expnd0\expndtw0\kerning0
Error state estimator given IMU + GPS\
\ls9\ilvl0\kerning1\expnd0\expndtw0 {\listtext	
\f1 \uc0\u9642 
\f0 	}\expnd0\expndtw0\kerning0
Visual-Inertial odometer\
\ls9\ilvl0\kerning1\expnd0\expndtw0 {\listtext	
\f1 \uc0\u9642 
\f0 	}\expnd0\expndtw0\kerning0
[Lab Assignment]  Implement complementary filter for attitude estimation.  Implement error state EKF for state estimation using IMU and GPS.\
\pard\tx720\pardeftab720\partightenfactor0
\cf0 \
\
Suggestions from Spring 2020:\
\
Mat Haskel:  
\f2\fs28 \cb3 Thanks for organizing this great new class! It was helpful for me to review concepts from the Robotic Vision course and see how they apply to UAVs. Also, it was useful to gain experience using ROSflight and holodeck so that they can be research tools I use. I think it would be cool to at least learn about the vision portions of estimation since it could be hard to add all pieces of estimation to the scope. I am mainly thinking of visual odometry since I think it is used in the lab with GPS denied navigation. To make time for this topic, I feel like the optical flow controller assignment could be taken out since it is really limited in scope of where it is useful. I think there could still be a lecture and discussion on how to do wall-following and the other optical flow controllers, but more as a side note for exposure rather than accompanying it with a homework assignment. I also think that it could be useful to spend more time in future courses on scene reconstruction and SLAM. Now that the framework is set up for the early pieces of attitude stabilization, trajectory following, and velocity following, I think those assignments won't take very long. The algorithms are well defined in the textbook and it is mostly copying the equations into code. So maybe those pieces could be faster in the future to provide extra time for scene reconstruction and SLAM or even target following. It would just be really cool to actually have those pieces working!\
\
Jacob Willis:  I think another area where I would give a bit of feedback for the class is in structuring the simulation projects. I think one of the areas I learned the most in was developing ROS code, which is going to be a huge benefit to my research going forward. Having to write everything on your own for ROS is a lot of work, however. I think there are two approaches to reducing this workload. One would be to provide "templates" that have the algorithms stripped out but all of the ROS code present. I think this would be a big disadvantage to future students since they wouldn't have to struggle with how to structure their ROS code. Another approach would be to split the class into teams of 3 and have each team work together on the assignments. Then each team could present their work. Another advantage of this is I found it a bit demoralizing to wipe away code that I had worked hard to develop and replace it with someone else's code at the beginning of each week. Having teams work together they would feel more ownership over the code they develop.\
\
- This class is a nice complement to Autonomous Systems course, which addresses estimation.\
- Really liked the geometric control and mathematics\
- Wish that we had somehow completed the SLAM problem\
	- visual odometry\
	- loop closures with vision\
	- error state EKF\
- The optical flow control scheme was maybe not the best use of time.\
	- could possibly do terrain following with a different holodeck world\
	- wasn\'92t very easy in the city world.
\f0\fs24 \cb1 \
\
\
\pard\pardeftab720\partightenfactor0
\cf0 \
\pard\tx720\pardeftab720\partightenfactor0
\cf0 \
\
}